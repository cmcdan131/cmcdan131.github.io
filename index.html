<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Sovereign Filings Map</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Mapbox GL CSS -->
    <link
      href="https://api.mapbox.com/mapbox-gl-js/v3.3.0/mapbox-gl.css"
      rel="stylesheet"
    >

    <!-- ArcGIS Maps SDK CSS -->
    <link
      rel="stylesheet"
      href="https://js.arcgis.com/4.34/esri/themes/dark/main.css"
    >

    <style>
      :root {
        --clr-text: #D3DAD9;
        --clr-header-bg: #715A5A;
        --clr-bg-main: #37353E;
        --clr-bg-side: #44444E;
      }

      body {
        margin: 0;
        padding: 0;
        background: var(--clr-bg-side);
        color: var(--clr-text);
        font-family: system-ui, sans-serif;
      }

      header {
        width: 100%;
        padding-top: 16px;
        padding-bottom: 0;
        box-sizing: border-box;
      }

      .header-inner {
        max-width: 1200px;
        margin: 0 auto;
        padding: 16px;
        background: var(--clr-header-bg);
        box-sizing: border-box;
        border-radius: 8px 8px 0 0;
      }

      header h1 {
        margin: 0;
        font-size: 28px;
        text-align: center;
        color: var(--clr-text);
        font-weight: 600;
      }
      
       header h2 {
        margin: 0;
        font-size: 16px;
        text-align: center;
        color: var(--clr-text);
        font-weight: 600;
      }

      .page {
        max-width: 1200px;
        margin: 0 auto 0 auto;
        padding: 16px;
        background: var(--clr-bg-main);
        box-sizing: border-box;
        border-radius: 0 0 8px 8px;
      }

      .intro {
        margin-bottom: 24px;
        color: var(--clr-text);
        line-height: 1.5;
      }

      .map-wrapper {
        width: 100%;
        max-width: 600px;
        margin: 0 auto;
      }

      .map-card {
        background: #32303a;
        border-radius: 8px;
        padding: 12px;
        width: 100%;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
        position: relative;
      }

      .map {
        width: 100%;
        aspect-ratio: 1 / 1;
        border-radius: 4px;
        overflow: hidden;
      }


      .maps-grid {
        display: flex;
        flex-direction: column;
        gap: 24px;
      }

      .map-title {
        margin: 0 0 8px 0;
        font-size: 16px;
        text-align: center;
        color: var(--clr-text);
      }

      /* Mapbox slider */
      #panel {
        position: absolute;
        bottom: 20px;
        left: 50%;
        z-index: 5;
        background: rgba(0, 0, 0, 0.7);
        padding: 8px 10px;
        border-radius: 6px;
        font-size: 13px;
        transform: translateX(-50%);
        text-align: center;
        color: var(--clr-text);
      }

      #yearSlider {
        width: 220px;
      }

      /* ArcGIS TimeSlider overlay */
      #timeSliderOverlay {
        position: absolute;
        left: 0;
        right: 0;
        bottom: 29px;
        width: 100%;
        z-index: 5;
        display: flex;
        justify-content: center;
      }

      #timeSliderDiv {
        width: 320px;
        max-width: 100%;
      }

      /* Mapbox zoom control theming */
      .mapboxgl-ctrl-group {
        background: #242424;
        border-radius: 6px;
        box-shadow: 0 0 4px rgba(0, 0, 0, 0.4);
        border: 1px solid #3a3a3a;
      }

      .mapboxgl-ctrl-group button {
        background: #242424;
        color: #9E9E9E;
      }

      .mapboxgl-ctrl-group button:hover {
        background: #2f2f2f;
      }

      .mapboxgl-ctrl-group button:active {
        background: #3a3a3a;
      }

      .mapboxgl-ctrl-group button + button {
        border-top: 1px solid #3a3a3a;
      }

      .mapboxgl-ctrl-icon {
        filter: brightness(0) saturate(0) invert(62%) sepia(0) saturate(0)
          hue-rotate(0deg) brightness(89%) contrast(88%);
      }
      
      .content-narrow {
        max-width: 700px; /* adjust to taste */
        margin: 0 auto 24px auto;
      }
      
      p {
        text-indent: 2em;
      }
      
      .content-image {
        margin: 20px auto;
        text-align: center;
      }

      .content-image img {
        max-width: 100%;
        border-radius: 6px;
      }

      .content-image figcaption {
        margin-top: 6px;
        font-size: 11px;
        color: var(--clr-text);
      }
      
      a {
        color: #A67B5B;
        text-decoration: none;
      }

      a:visited {
        color: #ECB176; 
      }

      a:hover {
        text-decoration: underline;
      }



    </style>
  </head>

  <body>

    <header>
      <div class="header-inner">
        <h1>Sovereign Citizens in the U.S.</h1>
          <h2>Examining the relationship between Sovereign Citizens and financial hardship</h2>
      </div>
    </header>

    <div class="page">

      <div class="intro">
		  <div class="content-narrow">
            <p>
              If you've spent much time online, you may have come across videos of people arguing with police and asserting strange pseudo-legal claims about why they do not have to follow ordinary laws. These individuals are part of the Sovereign Citizen movement, an extremist ideology in the United States whose roots go all the way back to the early 20th century. Sovereign Citizens believe they are subject to government statutes only if they personally consent to them. In practice, this means they treat laws as optional. The result is that those who hold this belief are often found guilty of crimes such as check fraud, tax evasion, threatening public officials, and traffic violations, just to name a few.
            </p>
          <figure class="content-image">
            <img src="images/ss1.png">
            <figcaption>
              Traffic stop involving refusal to identify<br>
              Source: Public domain video under California Public Records Act via Wikimedia Commons.

            </figcaption>
         </figure>
            <p>
			  Individuals in this movement will often engage in a practice known as paper terrorism. This involves flooding courts and county recorders with large volumes of frivolous filings, usually in an attempt to contest legal matters such as foreclosures or criminal sentences. These documents are often dense, confusing, and legally meaningless. They rarely achieve the filerâ€™s intended goals, but they do consume significant time and resources because government staff must review every submission. 
            </p>
            <p>
			Because the movement presents itself as a way to bypass the usual legal and financial systems, those who find themselves in some kind of financial or legal predicament may find the Sovereign Citizen movement particularly appealing. Someone facing foreclosure, debt, or other legal trouble may believe that these pseudo-legal tactics offer a way out. Because of this, I was interested in analyzing whether financial stress and Sovereign Citizen activity show any relationship over time and across states.	
            </p>
            <p>
            To do this, I collected data from <a href="https://www.courtlistener.com" target="_blank" rel="noopener noreferrer">CourtListener.com</a>, searching for filings that contain well known Sovereign Citizen phrases. The movement uses several distinct pseudo-legal terms that rarely appear in legitimate contexts, which makes this type of filtering effective.
            </p>
            <p>
            Below you'll find two maps; the first shows the number of Sovereign Citizen related filings by state and year. The second shows mortgage delinquency rates from the Consumer Financial Protection Bureau, which serve as an indicator of financial stress. Use the sliders on each map to compare the patterns through time and see what connections you observe.
            </p>
          </div>
      </div>

      <div class="maps-grid">

        <!-- Mapbox map -->
        <div class="map-wrapper">
          <div class="map-card">
            <h2 class="map-title">Sov-cit related filings per 100k residents</h2>

            <div id="panel">
              <label for="yearSlider">
                Year:
                <span id="yearLabel">2008</span>
              </label>
              <br>
              <input
                id="yearSlider"
                type="range"
                min="2008"
                max="2024"
                step="1"
                value="2008"
              >
            </div>

            <div id="map" class="map"></div>
          </div>
        </div>

        <!-- ArcGIS map -->
        <div class="map-wrapper">
          <div class="map-card">
            <h2 class="map-title">Mortgage Delinquency Rates</h2>

            <div id="esriMap" class="map"></div>

            <div id="timeSliderOverlay">
              <div id="timeSliderDiv"></div>
            </div>

          </div>
        </div>

      </div>
      <div class="content-narrow">
		  <p>
			  As you might notice, we do not always see a direct correlation between mortgage delinquency rates and the frequency of court filings that contain Sovereign Citizen terms. Even so, a few patterns stand out. Southern states appear to experience the highest levels of financial stress as indicated by delinquency rates, and they also show the most consistent occurrences of Sovereign Citizen filings. Texas and Florida appear frequently, which is not surprising given their large populations. Tennessee and Georgia also show up regularly, even though their populations are much smaller.
		  </p>
		  <p>
			  One notable exceptions is Ohio. It consistently ranks among the states with the most Sovereign Citizen related filings, yet it does not show the same level of financial stress as many of its neighbors. This suggests that while financial hardship may be one factor, it is not the only driver behind the geographic distribution of Sovereign Citizen activity.
		  </p>
    </div>

    <!-- Mapbox GL JS -->
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.3.0/mapbox-gl.js"></script>

    <!-- ArcGIS Maps SDK -->
    <script src="https://js.arcgis.com/4.34/"></script>

    <script>
      /* Mapbox */
      mapboxgl.accessToken =
        "pk.eyJ1IjoiY29sZW1tIiwiYSI6ImNtZzYxMmN4aDBhcGsycHB0c2wwNWQ2cGIifQ.qJpSXq0PFPtQLzM50SIweg";

      const map = new mapboxgl.Map({
        container: "map",
        style: "mapbox://styles/colemm/cmilbzyru004q01sq3dh2b00e",
        center: [-98, 38],
        zoom: 3
      });

      map.addControl(new mapboxgl.NavigationControl(), "top-right");

      const layerId = "states-sovfilings-joined-bu1d92";
      const slider = document.getElementById("yearSlider");
      const label = document.getElementById("yearLabel");

      function updateFilter(year) {
        map.setFilter(layerId, ["==", ["get", "year"], year]);
      }

      map.on("load", () => {
        map.setPaintProperty(layerId, "fill-color", [
          "interpolate",
          ["linear"],
          ["to-number", ["get", "cases_per_100k"]],


            0.002529, "rgba(229, 213, 206, 0.8)",
            0.010765, "rgba(209, 178, 168, 0.8)",
            0.019973, "rgba(186, 144, 134, 0.8)",
            0.033101, "rgba(163, 116, 103, 0.8)",
            0.069443, "rgba(140, 90, 73, 0.8)",
            1.488297, "rgba(115, 63, 46, 0.8)" 
           ]);

        map.setPaintProperty(layerId, "fill-outline-color", "#222");

        const initialYear = parseInt(slider.value, 10);
        label.textContent = initialYear;
        updateFilter(initialYear);

        slider.addEventListener("input", (e) => {
          const year = parseInt(e.target.value, 10);
          label.textContent = year;
          updateFilter(year);
        });
      });

      /* ArcGIS map and TimeSlider */
      require(
        ["esri/WebMap", "esri/views/MapView", "esri/widgets/TimeSlider"],
        function (WebMap, MapView, TimeSlider) {

          const webmap = new WebMap({
            portalItem: { id: "8bd3baafc4a841e2a68923af3f556a25" }
          });

          const view = new MapView({
            container: "esriMap",
            map: webmap,
            center: [-98, 33],
            zoom: 3
          });

          view.ui.move("zoom", "top-right");

          view.when(() => {
            const minYear = 2008;
            const maxYear = 2023;

            const yearDates = Array.from(
              { length: maxYear - minYear + 1 },
              (_, i) => new Date(minYear + i, 0, 1)
            );

            function setYearExtent(date) {
              if (!date) return;
              const year = date.getFullYear();
              view.timeExtent = {
                start: new Date(year, 0, 1),
                end: new Date(year + 1, 0, 1)
              };
            }

            const timeSlider = new TimeSlider({
              container: "timeSliderDiv",
              mode: "instant",
              fullTimeExtent: {
                start: new Date(minYear, 0, 1),
                end: new Date(maxYear, 0, 1)
              },
              stops: { dates: yearDates }
            });

            timeSlider.timeExtent = {
              start: yearDates[0],
              end: yearDates[0]
            };

            setYearExtent(yearDates[0]);

            timeSlider.watch("timeExtent", (value) => {
              if (value && value.start) setYearExtent(value.start);
            });
          });
        }
      );
    </script>
  </body>
</html>
